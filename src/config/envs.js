import { loadSecrets } from "gitops-secrets";

let envs = process.env;
try {
  let envs2 = loadSecrets();
  envs = { ...envs, ...envs2 };
} catch (err) {
  console.error("No secrets found");
}
export const {
  PORT = 3000,
  MONGO_DB_CONNECTION_URI,
  TWILIO_SID,
  TWILIO_TOKEN,
  TIO_PROXY_API_KEY,
  CTRADER_ALLOWED_PASSWORD,
  CTRADER_API_PROXY,
  CTRADER_AUTH_TOKEN,
  CTRADER_DEMO_API_PROXY,
  CTRADER_DEMO_AUTH_TOKEN,
  CTRADER_BROKER_CRM_NAME,
  CTRADER_BROKER_NAME,
  CTRADER_DEFAULT_GROUP,
  ENV = "development",
  GOOGLE_CLOUD_STORAGE_ARCHIVE_BUCKET,
  GOOGLE_CLOUD_STORAGE_STANDARD_BUCKET,
  GOOGLE_CLOUD_STORAGE_PRIVATE_KEY,
  JWT_SECRET,
  CRM_JWT_SECRET,
  PRAXIS_ENV,
  PRAXIS_API_PROXY_URL,
  PRAXIS_API_APP_KEY,
  PRAXIS_API_MERCHANT_ID,
  PRAXIS_API_MERCHANT_SECRET,
  HOST_URL,
  LOGTAIL_SOURCE_TOKEN,
  BITGO_API_PROXY_URL,
  BITGO_API_KEY,
  BITGO_BTC_WALLET_ID,
  BITGO_ETH_WALLET_ID,
  BITGO_PIX_BTC_WALLET_ID,
  BITGO_PIX_ETH_WALLET_ID,
  BITGO_TIO_BTC_WALLET_ID,
  BITGO_TIO_ETH_WALLET_ID,
  RABBITMQ_CONNECTION_URI,
  INNOVOULT_API_KEY,
  MT5_DEMO_API_PROXY_KEY,
  MT5_DEMO_API_PROXY_URL,
  MT5_LIVE_API_PROXY_KEY,
  MT5_LIVE_API_PROXY_URL,
  MT5_MANAGER_LOGIN,
  MT5_ACCOUNT_SUFFIX,
  SENDGRID_API_KEY,
  LOGGER_ENV,
  MT5_WEBHOOK_ALLOWED_API_KEY,
  MEMBERS_AREA_URL,
  CTRADER_APP_URL,
  SQS_ACCESS_KEY_ID,
  SQS_TIO_QUEUE_URL,
  SQS_REGION,
  SQS_SECRET_ACCESS_KEY,
  OPENPAYD_API_USERNAME_PASSWORD,
  OPENPAYD_API_URL,
  MAIN_ACCOUNT_HOLDER_ID,
  PIX_CTRADER_PROXY_API_KEY,
  PIX_CTRADER_PROXY_LIVE,
  PIX_CTRADER_PROXY_LIVE_AUTH_TOKEN,
  PIX_CTRADER_PROXY_DEMO,
  PIX_CTRADER_PROXY_DEMO_AUTH_TOKEN,
  PIX_CTRADER_PROXY_BROKER_NAME,
  PIX_CTRADER_PROXY_BROKER_CRM_NAME,
  PIX_MEMBERS_AREA_URL,
  GIGADAT_API_URL,
  GIGADAT_ACCESS_TOKEN,
  GIGADAT_SECRET_TOKEN,
  GIGADAT_CAMPAIGN_ID,
  MT4_DEMO_API_KEY,
  MT4_DEMO_API_URL,
  MT4_LIVE_API_KEY,
  MT4_LIVE_API_URL,
  MT4_ACCOUNT_SUFFIX,
  MT4_WEBHOOK_ALLOWED_API_KEY,
  NULLPOINT_PROXY_HOST,
  NULLPOINT_PROXY_API_KEY,
  CTRADER_PRICE_FEED_WS,
  DEFAULT_SALES_AGENT_ID,
  VIRTUAL_PAY_PIX_API_URL,
  VIRTUAL_PAY_PIX_API_KEY,
  VIRTUAL_PAY_PIX_MERCHANT_ID,
  VIRTUAL_PAY_PIX_PRIVATE_KEY,
  STATUSPAGE_API_KEY,
} = envs;

export const ALLOWED_API_KEYS = (envs.ALLOWED_API_KEYS ?? "").split(",");
export const TIO_SCHEDULED_TASKS_ALLOWED_API_KEYS = (
  envs.TIO_SCHEDULED_TASKS_ALLOWED_API_KEYS ?? ""
).split(",");
